<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <style>
      .board { fill: #1a1a2e; stroke: #4a4a6a; stroke-width: 2; }
      .mic { fill: #2d132c; stroke: #6b3a6b; stroke-width: 2; }
      .pin { fill: #ffd700; stroke: #b8860b; stroke-width: 1; }
      .pin-label { font-family: monospace; font-size: 10px; fill: #ffffff; }
      .board-label { font-family: sans-serif; font-size: 14px; fill: #ffffff; font-weight: bold; }
      .wire-bclk { stroke: #ff6b6b; stroke-width: 3; fill: none; }
      .wire-ws { stroke: #4ecdc4; stroke-width: 3; fill: none; }
      .wire-din { stroke: #ffe66d; stroke-width: 3; fill: none; }
      .wire-vcc { stroke: #ff3333; stroke-width: 3; fill: none; }
      .wire-gnd { stroke: #333333; stroke-width: 3; fill: none; }
      .wire-lr { stroke: #95e1d3; stroke-width: 2; fill: none; stroke-dasharray: 5,3; }
      .legend { font-family: sans-serif; font-size: 11px; fill: #333; }
      .title { font-family: sans-serif; font-size: 18px; fill: #333; font-weight: bold; }
      .subtitle { font-family: sans-serif; font-size: 12px; fill: #666; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">INMP441 Stereo Wiring - ESP32-P4 Nano</text>
  <text x="400" y="50" text-anchor="middle" class="subtitle">Sound Localization Setup (I2S Shared Bus)</text>
  
  <!-- ESP32-P4 Nano Board -->
  <rect x="300" y="150" width="200" height="280" rx="10" class="board"/>
  <text x="400" y="180" text-anchor="middle" class="board-label">ESP32-P4 Nano</text>
  <text x="400" y="195" text-anchor="middle" style="font-size:10px; fill:#888;">(Waveshare)</text>
  
  <!-- ESP32 Pins - Left side -->
  <rect x="290" y="220" width="20" height="12" class="pin"/>
  <text x="285" y="229" text-anchor="end" class="pin-label">3.3V</text>
  
  <rect x="290" y="250" width="20" height="12" class="pin"/>
  <text x="285" y="259" text-anchor="end" class="pin-label">GND</text>
  
  <rect x="290" y="290" width="20" height="12" class="pin"/>
  <text x="285" y="299" text-anchor="end" class="pin-label">GPIO4</text>
  
  <rect x="290" y="320" width="20" height="12" class="pin"/>
  <text x="285" y="329" text-anchor="end" class="pin-label">GPIO5</text>
  
  <rect x="290" y="350" width="20" height="12" class="pin"/>
  <text x="285" y="359" text-anchor="end" class="pin-label">GPIO6</text>
  
  <!-- Left INMP441 Microphone -->
  <rect x="50" y="200" width="120" height="160" rx="5" class="mic"/>
  <text x="110" y="225" text-anchor="middle" class="board-label">INMP441</text>
  <text x="110" y="242" text-anchor="middle" style="font-size:11px; fill:#ff9999;">(LEFT MIC)</text>
  
  <!-- Left Mic Pins -->
  <rect x="160" y="260" width="15" height="10" class="pin"/>
  <text x="155" y="268" text-anchor="end" class="pin-label">VDD</text>
  
  <rect x="160" y="280" width="15" height="10" class="pin"/>
  <text x="155" y="288" text-anchor="end" class="pin-label">GND</text>
  
  <rect x="160" y="300" width="15" height="10" class="pin"/>
  <text x="155" y="308" text-anchor="end" class="pin-label">SD</text>
  
  <rect x="160" y="320" width="15" height="10" class="pin"/>
  <text x="155" y="328" text-anchor="end" class="pin-label">WS</text>
  
  <rect x="160" y="340" width="15" height="10" class="pin"/>
  <text x="155" y="348" text-anchor="end" class="pin-label">SCK</text>
  
  <!-- Left Mic L/R Pin (internal connection to GND) -->
  <rect x="60" y="320" width="15" height="10" class="pin"/>
  <text x="80" y="328" class="pin-label">L/R</text>
  <text x="110" y="365" text-anchor="middle" style="font-size:10px; fill:#95e1d3;">L/R → GND</text>
  
  <!-- Right INMP441 Microphone -->
  <rect x="630" y="200" width="120" height="160" rx="5" class="mic"/>
  <text x="690" y="225" text-anchor="middle" class="board-label">INMP441</text>
  <text x="690" y="242" text-anchor="middle" style="font-size:11px; fill:#99ccff;">(RIGHT MIC)</text>
  
  <!-- Right Mic Pins -->
  <rect x="625" y="260" width="15" height="10" class="pin"/>
  <text x="645" y="268" class="pin-label">VDD</text>
  
  <rect x="625" y="280" width="15" height="10" class="pin"/>
  <text x="645" y="288" class="pin-label">GND</text>
  
  <rect x="625" y="300" width="15" height="10" class="pin"/>
  <text x="645" y="308" class="pin-label">SD</text>
  
  <rect x="625" y="320" width="15" height="10" class="pin"/>
  <text x="645" y="328" class="pin-label">WS</text>
  
  <rect x="625" y="340" width="15" height="10" class="pin"/>
  <text x="645" y="348" class="pin-label">SCK</text>
  
  <!-- Right Mic L/R Pin (internal connection to VCC) -->
  <rect x="725" y="320" width="15" height="10" class="pin"/>
  <text x="720" y="328" text-anchor="end" class="pin-label">L/R</text>
  <text x="690" y="365" text-anchor="middle" style="font-size:10px; fill:#95e1d3;">L/R → 3.3V</text>
  
  <!-- Wires - VCC (Red) -->
  <path d="M 290 226 L 240 226 L 240 180 L 175 180 L 175 265" class="wire-vcc"/>
  <path d="M 240 180 L 560 180 L 560 265 L 625 265" class="wire-vcc"/>
  <!-- VCC to Right L/R -->
  <path d="M 560 180 L 760 180 L 760 325 L 740 325" class="wire-vcc" stroke-dasharray="5,3"/>
  
  <!-- Wires - GND (Black) -->
  <path d="M 290 256 L 220 256 L 220 400 L 175 400 L 175 285" class="wire-gnd"/>
  <path d="M 220 400 L 580 400 L 580 285 L 625 285" class="wire-gnd"/>
  <!-- GND to Left L/R -->
  <path d="M 220 400 L 40 400 L 40 325 L 60 325" class="wire-gnd" stroke-dasharray="5,3"/>
  
  <!-- Wires - BCLK/SCK (Red-Orange) GPIO4 -->
  <path d="M 290 296 L 200 296 L 200 345 L 175 345" class="wire-bclk"/>
  <path d="M 200 296 L 200 420 L 600 420 L 600 345 L 625 345" class="wire-bclk"/>
  
  <!-- Wires - WS (Cyan) GPIO5 -->
  <path d="M 290 326 L 210 326 L 210 325 L 175 325" class="wire-ws"/>
  <path d="M 210 326 L 210 435 L 610 435 L 610 325 L 625 325" class="wire-ws"/>
  
  <!-- Wires - DIN/SD (Yellow) GPIO6 -->
  <path d="M 290 356 L 230 356 L 230 305 L 175 305" class="wire-din"/>
  <path d="M 230 356 L 230 450 L 620 450 L 620 305 L 625 305" class="wire-din"/>
  
  <!-- Legend -->
  <rect x="50" y="460" width="700" height="35" fill="#e8e8e8" rx="5"/>
  <text x="60" y="482" class="legend" font-weight="bold">Legend:</text>
  
  <line x1="120" y1="477" x2="150" y2="477" class="wire-vcc"/>
  <text x="155" y="482" class="legend">3.3V</text>
  
  <line x1="200" y1="477" x2="230" y2="477" class="wire-gnd"/>
  <text x="235" y="482" class="legend">GND</text>
  
  <line x1="280" y1="477" x2="310" y2="477" class="wire-bclk"/>
  <text x="315" y="482" class="legend">BCLK (GPIO4)</text>
  
  <line x1="410" y1="477" x2="440" y2="477" class="wire-ws"/>
  <text x="445" y="482" class="legend">WS (GPIO5)</text>
  
  <line x1="530" y1="477" x2="560" y2="477" class="wire-din"/>
  <text x="565" y="482" class="legend">DIN (GPIO6)</text>
  
  <line x1="660" y1="477" x2="690" y2="477" stroke-dasharray="5,3" stroke="#666" stroke-width="2"/>
  <text x="695" y="482" class="legend">L/R Select</text>
  
  <!-- Spacing annotation -->
  <line x1="110" y1="140" x2="690" y2="140" stroke="#666" stroke-width="1" marker-start="url(#arrow)" marker-end="url(#arrow)"/>
  <text x="400" y="135" text-anchor="middle" style="font-size:12px; fill:#666;">~10cm mic spacing (adjustable in firmware)</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666"/>
    </marker>
  </defs>
</svg>
